# GamutCut


## サービス概要
色相環上に円形や多角形の図形をマスクとして配置し、統一感を生み出せる色域に制限する「ガマットマスク」を作成できます。<br>ツールのダウンロードは不要で、マスクした色相環の画像をSVG形式、もしくはPNG形式ですぐにエクスポートできます。お使いのグラフィックソフトのスポイトツールで、マスクした色相環画像から色を抽出してお使いいただけます。

![](https://i.gyazo.com/92a8998bccf05eeceaba68cade7546f6.gif)

## 制作背景
趣味でイラストを描く私は、着彩の工程でいつも悩まされていました。<br>色は色相だけでなく、彩度と明度についても考えなければならず、違和感のでない着彩をするにはこの3つのパラメータを適切に取っていかなければなりません。<br>そんな着彩の違和感を減らし、統一感を出しやすくする方法の1つとして「**ガマットマッピング**」という手法があります。<br>
これは色相環上に任意の形状のマスクを設置し、そのマスクの範囲内の色のみを使って着彩を行う手法で、このマスクのことを「**ガマットマスク**」と呼びます。<br>ClipStudioPaint や Photoshop などのグラフィックソフトには、ガマットマッピングに近い機能は用意されているものの、複数のツールを使いこなせなければならず、直感的に使うには難しい仕様になっています。<br>また、すでにガマットマスク制作ツールはいくつか存在しますが、「マスクの自由度に制限がある」「デジタルイラストに適した色相環モデルが使われていない」「直感的な操作が難しい」などの問題点が見受けられました。<br>
そこで、それらの問題点を解消し、ガマットマスクの作成とエクスポートをスピーディーに行えるガマットマスク制作ツールを開発することに決めました。

## 主なターゲット
- 着彩で統一感を出せず悩んでいる人
- バランスの取れた着彩をできるようになりたい人

## サービスの利用イメージ
> [!NOTE]
>本ツールは、主にデジタルイラストの制作において真価を発揮します。WebサイトのUIデザインなどにはあまり効果的ではないのでご注意ください。<br>

1. イラスト作品で使用したいメインカラーを決めたら、そのメインカラーを頂点とする図形をマスクとして作成します。（例. メインカラーが4つの場合、四角形のマスクを作成）<br>

2. マスクした色相環をSVGまたはPNG形式でエクスポートします<br>

3. お使いのグラフィックソフトにて、エクスポートした色相環からスポイトツールで色を抽出することで着彩にお役立ていただけます。

4. マスクの作成およびエクスポートは、未ログイン状態でもご使用いただけます。

5. ユーザー登録していただくと、ガマットマッピングで着彩したイラスト作品を使用したマスクの設定と併せて投稿することができます。（※作品閲覧は、未ログイン状態でも可能です）

## ユーザーの獲得について
- 初回訪問時のユーザーエクスペリエンスが再訪問の可否に大きく影響することを考慮し、未ログイン状態でも気軽にガマットマスクの作成およびエクスポートを可能にすることで、ユーザーのリピート率を向上させ、最終的には会員登録へと繋げることを目指します。

- 会員登録もスピーディに登録可能なソーシャルログイン(OAuth認証)を採用することで、会員登録時の離脱を防ぎます。

- ガマットマスクの作成だけでなく、作品投稿ページでマスクのトレンドや傾向を把握できるようにすることで、参考目的で訪問するユーザーのリピート率を向上させ、会員登録へ繋げることを目指します。


## 主な競合サイト
主な競合サイトは以下の４つ。<br>非常にニッチな分野のため、あまりサービス展開されていない様子です。<br>各サイトについて、個人的に感じた課題点をあげてみました。

- **[Krita]( https://krita.org/ja/ )**<br>ペイントソフト<br>
  1. ガマットマスク制作機能が搭載されており、マスクのカスタマイズも可能だが、操作がとても複雑
  2. ソフトのダウンロードが必要

- **[My Painting Club]( https://mypaintingclub.com/blog/post/39-The-Gamut-Mask-Tool )**<br>私が調べた限りでは、ガマットマスク制作ツールのパイオニアサイトと思われる。<br>
  1. マスクの自由度に制限がある
　→触った限り、マスクの自由変形・拡大・縮小ができない
  2. 一部の操作が直感的にわかりづらい（色相環の回転をどこで行えるかがわかりづらいなど）
- **[delimiter]( https://blog.itod.dev/story/gamut-color-mask-tool/ )**<br>My Painting Clubをより直感的に操作しやすく改良されている。<br>
  1. エクスポート機能が正常に働いてない
  2. 円形マスクが用意されていない
  3. マスクの角頂点のポインタが大きすぎる
  4. 色相環全体の明度が50%で固定されている
- **[KGamut]( https://cr10blog.blogspot.com/2013/02/kgamut.html )**<br>スペインのサイトのようだが情報がほとんどない<br>
  1. Windows限定
  2. zipファイルをダウンロードする必要がある
  3. 2014年を最後にバージョンの更新が止まっている

## 競合サイトとの差別化ポイント
1. **デジタルイラストの着彩に適したHSV色相環モデルを採用**<br> :page_facing_up: 細かい色の選択ができるように、パラメータのスケール幅は、色相：0〜360、彩度：0〜100、明度：0〜100を取るようにする（※1）<br>

2. **ツールや環境のダウンロードといった手間を取らせず、未ログイン状態でもすぐにガマットマッピングを制作＆エクスポートできる**<br>

3. **作成したガマットマスクで制作したイラストを投稿できる**（※2）<br>

4. **直感的にわかりやすい操作ができる**<br>

5. **自由度の高いマスク設定ができる**<br>

6. **（色相環自体の）明度も調整できる**<br>

※1 色相と彩度は**色相環上**の色を対象にしたパラメータだが、明度は**色相環自体**のパラメータとなっており、特殊な色相環モデルを独自に作成。<br>※2 自身の作品をみてもらう他に、どのようなマスクで着彩したのかを他のユーザーへの参考になるようにできる<br>

## MVP機能
- **フロントエンド**
  - **色相環上でのマスク編集**<br>SVG操作でマスクを自由に配置・回転・拡大縮小できるようにする

  - **エクスポート**<br>SVGもしくはPNG形式でマスクした色相環をエクスポート<br>SVGとPNGのコンポーネントを用意

  - **プリセット管理**<br>作成したマスクを保存できるようにする<br>保存したマスクを選択すると、色相環上に保存した設定のマスクを表示する

- **バックエンド**

  - **作品投稿機能（登録会員限定）**<br>作成したマスクを使用して製作したイラストを投稿できる

  - **新規会員登録 / ログイン**<br>新規登録、ログイン機能（メアド）<br>ソーシャルログイン機能( X / Google)

## 追加予定機能
- **フロントエンド**
  - **レスポンシブ対応**<br>タブレットでイラスト制作する人が多いので優先度高め

  - **PWAの導入**<br>タブレット利用者の多さを考慮し、グラフィックソフトとの切り替えをスムーズにするために採用

  - **使い方ページ**<br>ガマットマッピングを初めて知った人向けにも分かりやすく、メジャーなマスク(4種類ほど)の使用例を提示する

  - **ツアーガイド**<br>ガマットマスクを初めて作る人向けに
- **バックエンド**

  - **いいね・ブックマーク機能（登録会員限定）**<br>ブックマークしたマスクはブックマーク一覧で確認できるようにする

  - **レビュー機能（登録会員限定）**<br>レーティング評価(5段階評価)も行えるようにする

  - **タグ機能**<br>カテゴリ「塗り」「ジャンル」「モチーフ」<br>
  塗り：アニメ塗り、水彩塗り、厚塗り、油彩塗り、ギャルげ塗りなど<br>
  ジャンル：デフォルメ、ゆる系、萌え系、リアル系、劇画系、カートゥーン

  - **ソート機能(降順)**<br>ソートカテゴリは「いいね数」「レーティング評価の平均値」「作成日時」<br>

  - **プロフィール管理**<br>ユーザープロフィール画面を表示

  - **テンプレート利用**<br>投稿されたマスクをテンプレートとして即エクスポートできるようにする

  - **テンプレート利用回数表示機能**<br>テンプレート利用された回数を表示する。利用された回数をマスクの人気ランキングに反映する

  - **コピーして再編集**<br>投稿されたマスクを元にカスタムして使いたい場合などに、即編集モードに移行できるようにする

  - **人気マスク機能**<br>テンプレート利用回数をいいね数、レーティング評価の平均値

  - **シェア機能**<br>作成したマスクのシェア機能（旧Twitter）<br>

## 技術スタック（暫定）

| カテゴリ | 採用技術 |
| :---: | :---: |
| プラットフォーム	| Docker
| サーバーサイド言語	| Ruby 3.4.2<br>Ruby on Rails 7.2.2 |
| サーバーサイド<br>フレームワーク	| Ruby 3.4.2<br>Ruby on Rails 7.2.2 |
| クライアントサイド言語	| TypeScript |
| クライアントサイド<br>ライブラリ | React |
| サーバーランタイム | Node.js 22.16.0 |
| CSSフレームワーク | Tailwind CSS v4 |
| UIコンポーネント<br>コレクション | shadcn-UI |
| RDB	| PostgreSQL |
| オブジェクトストレージ | Amazon S3 |
| CDN | Cloudfrare |
| API | Google API OAuth 2.0 <br> Twitter API |
| ホスティング<br>プラットフォーム	| render |
| バージョン管理システム	| Git <br> GitHub |


### 画面遷移図（Figma）
https://www.figma.com/design/L3rfddFQ4uDPR1rhKFgTxm/GamutCut_%E7%94%BB%E9%9D%A2%E9%81%B7%E7%A7%BB%E5%9B%B3?node-id=0-1&p=f&t=PX9CSdgK7AQqFl2P-0
<br>

### ER図
![alt 卒制ER図](https://i.gyazo.com/a80507a7fcae124456a09338cd53cb3e.png)